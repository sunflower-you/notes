- [x] 1、向日葵安装
```
下载地址：https://sunlogin.oray.com/download/linux?type=personal
sudo apt update  
sudo apt install libgconf-2-4
# 依赖安装失败修复
sudo apt --fix-broken install
sudo dpkg -i '/home/yyds/下载/SunloginClient_15.2.0.63064_amd64.deb'
```

- [x] 2、unbuntu新系统,生成密钥，github配置密钥
```
ssh-keygen -t rsa -C "m13119160579@163.com"
cat /home/yyds/.ssh/id_rsa.pub
```

- [x] 3、git commit -s 提交commit信息
默认 nano 编辑器
```
ctrl+o
enter
ctrl+x
```


- [x] 5、qwen prefill性能优化
    - [x] ~~1、大batchsize，batchsize从32调整到64，对比llama的case，batchsize是32，所以不需要改~~
    - [x] 2、ff0切分分数增大,从17改成22，所有submodule的weight均可stationary
    - [x] 3、kv_cache和core_attention分离


- [x] 6、qwen2.5_7b编译

```
python sparse_compile/example/compile_llm_from_hf_v2.py -o /home/dongbenyang/workspace/moffett_software/debug/debug6/case/20241010_sparse_llm_qwen2.5_7B_deliver  -wo /ssd4/dongbenyang/Qwen2.5-7B -hfmn Qwen/Qwen2.5-7B-Instruct -cm tp serving -cfg /home/dongbenyang/workspace/git_lab/moffett_software/debug/qwen2.5_7b_sparsert_llm_performance_config.json
```

- config
```
{
    "batch_size": 8,
    "current_sequence_length": 1,
    "att_matmul_split_n": 2,
    "ff0_split_n": 22,
    "ff1_split_n": 14,
    "mlp_pad": 768,
    "q_split_n": 2,
    "k_split_n": 1,
    "v_split_n": 1,
    "core_atten_split_n": 1,
    "serving_config_list":[[1,32], [8,1]],
    "mds_l1_split_n": 8,
    "mds_l2_split_n": 4,
    "medusa_head_nums": 3 ,
    "medusa_low_rank_factor": 2,
    "is_medusa_model": true,
    "max_seq_len": 512
}

"ff0_split_n": 30,
"mlp_pad": 256,

```

- 105 runtime 生文
```
ssh moffett@10.1.20.105
cd /home/moffett/workspace/sola-demo
source ~/workspace/sola-demo/sola-demo-env/bin/activate
cd /home/moffett/workspace/sola-demo/models/llama-67b
export SOLA_VISIBLE_DEVICES=0-7
~/.local/bin/model_info_generator_v2 ./ 

cd /mnt/moffett/workspace/ant/auto_compile/case/sola-demo/models/llama-67b
python3 test/chat_variable_op.py --mode=qa --model_path=/home/moffett/workspace/models/qwen/20241010_sparse_llm_qwen2.5_7B_deliver_bin --tokenizer /home/moffett/workspace/models/qwen/20241010_sparse_llm_qwen2.5_7B_deliver_bin

```


- [ ] 7、cpython检查严格问题
```
vi  sparse_compile/gpt/bailing10b_modeling/model.py
python3 packages/py2so_py3.py -f sparse_compile/gpt/bailing10b_modeling/model.py
cp moffett_software_source/sparse_compile/gpt/bailing10b_modeling/model.so moffett_software/sparse_compile/gpt/bailing10b_modeling/model.so


cp moffett_software_source/sparse_compile/gpt/general_llm_tools/serving_tools.so moffett_software/sparse_compile/gpt
/general_llm_tools/serving_tools.so
python3 /home/moffett/workspace/llm_compile/data/compile_llm_from_hf_v2.py -o ../llm_compile/data/20241009_bailing_10B_layer2 -wo /home/moffett/workspace/llm_compile/data/bailing_10B/ -hfmn /home/moffett/workspace/llm_compile/data/bailing_10B/ -cm tp serving -cfg /home/moffett/workspace/llm_compile/data/bailing_10B/bailing10b_tp_serving.json
```






gdb安装
```
wget https://ftp.gnu.org/gnu/gdb/gdb-9.1.tar.gz
tar zvxf gdb-9.1.tar.gz
cd gdb-9.1
mkdir build && cd build
../configure
make -j32
make install
```

















- [ ] 4、cuda学习